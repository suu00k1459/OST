{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      },
      {
        "datasource": "FLEAD-TimescaleDB",
        "enable": true,
        "hide": false,
        "iconColor": "#FF4136",
        "name": "High Severity Events",
        "target": {
          "format": "table",
          "rawSql": "SELECT ts AS time, 'ðŸ”´ ' || device_id || ' - Score: ' || ROUND(anomaly_score::numeric, 2) AS text FROM anomalies WHERE severity = 'critical' ORDER BY ts DESC LIMIT 50;",
          "refId": "A"
        }
      }
    ]
  },
  "description": "Comprehensive anomaly tracking by time periods, devices, and patterns",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 2,
  "id": null,
  "links": [
    {
      "asDropdown": true,
      "icon": "external link",
      "includeVars": true,
      "keepTime": true,
      "tags": ["flead"],
      "title": "FLEAD Dashboards",
      "type": "dashboards"
    }
  ],
  "liveNow": true,
  "panels": [
    {
      "id": 100,
      "type": "row",
      "title": "ðŸ“Š Anomaly Summary",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 },
      "collapsed": false
    },
    {
      "id": 1,
      "type": "stat",
      "title": "Total (All Time)",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 3, "x": 0, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COUNT(*) AS value FROM anomalies;" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#00D4FF", "value": null }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "background_solid", "graphMode": "none", "justifyMode": "center" }
    },
    {
      "id": 2,
      "type": "stat",
      "title": "Last 24h",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 3, "x": 3, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COUNT(*) AS value FROM anomalies WHERE ts > now() - interval '24 hours';" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#4ECDC4", "value": null }, { "color": "#FF851B", "value": 50 }, { "color": "#FF4136", "value": 200 }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "background_solid", "graphMode": "area", "justifyMode": "center" }
    },
    {
      "id": 3,
      "type": "stat",
      "title": "Last 1h",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 3, "x": 6, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COUNT(*) AS value FROM anomalies WHERE ts > now() - interval '1 hour';" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#2ECC40", "value": null }, { "color": "#FFDC00", "value": 5 }, { "color": "#FF4136", "value": 20 }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "background_solid", "graphMode": "area", "justifyMode": "center" }
    },
    {
      "id": 4,
      "type": "stat",
      "title": "Last 15m",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 3, "x": 9, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COUNT(*) AS value FROM anomalies WHERE ts > now() - interval '15 minutes';" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#2ECC40", "value": null }, { "color": "#FFDC00", "value": 2 }, { "color": "#FF4136", "value": 10 }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "background_solid", "graphMode": "area", "justifyMode": "center" }
    },
    {
      "id": 5,
      "type": "stat",
      "title": "ðŸ”´ HIGH",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 2, "x": 12, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COUNT(*) AS value FROM anomalies WHERE severity = 'critical';" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#FF4136", "value": null }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "background_solid", "graphMode": "none", "justifyMode": "center" }
    },
    {
      "id": 6,
      "type": "stat",
      "title": "ðŸŸ  MED",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 2, "x": 14, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COUNT(*) AS value FROM anomalies WHERE severity = 'warning';" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#FF851B", "value": null }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "background_solid", "graphMode": "none", "justifyMode": "center" }
    },
    {
      "id": 7,
      "type": "stat",
      "title": "ðŸŸ¡ LOW",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 2, "x": 16, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COUNT(*) AS value FROM anomalies WHERE severity = 'info';" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#FFDC00", "value": null }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "background_solid", "graphMode": "none", "justifyMode": "center" }
    },
    {
      "id": 8,
      "type": "stat",
      "title": "Devices w/ Anomalies",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 3, "x": 18, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COUNT(DISTINCT device_id) AS value FROM anomalies;" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#9D70F9", "value": null }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "background_solid", "graphMode": "none", "justifyMode": "center" }
    },
    {
      "id": 9,
      "type": "gauge",
      "title": "Avg Score",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 3, "w": 3, "x": 21, "y": 1 },
      "targets": [{ "refId": "A", "format": "time_series", "rawSql": "SELECT now() AS time, COALESCE(AVG(anomaly_score), 0) AS value FROM anomalies;" }],
      "fieldConfig": { "defaults": { "unit": "none", "decimals": 3, "min": 0, "max": 1, "thresholds": { "mode": "absolute", "steps": [{ "color": "#2ECC40", "value": null }, { "color": "#FFDC00", "value": 0.4 }, { "color": "#FF851B", "value": 0.6 }, { "color": "#FF4136", "value": 0.8 }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "showThresholdLabels": false, "showThresholdMarkers": true }
    },
    {
      "id": 101,
      "type": "row",
      "title": "â±ï¸ Anomalies Over Time",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 4 },
      "collapsed": false
    },
    {
      "id": 10,
      "type": "timeseries",
      "title": "ðŸ“ˆ Anomaly Timeline (by Severity)",
      "description": "Stacked view of anomalies by severity over time",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 8, "w": 16, "x": 0, "y": 5 },
      "targets": [
        { "refId": "CRITICAL", "format": "time_series", "rawSql": "SELECT time_bucket('$interval', ts) AS time, COUNT(*) AS critical FROM anomalies WHERE severity = 'critical' GROUP BY 1 ORDER BY 1;" },
        { "refId": "WARNING", "format": "time_series", "rawSql": "SELECT time_bucket('$interval', ts) AS time, COUNT(*) AS warning FROM anomalies WHERE severity = 'warning' GROUP BY 1 ORDER BY 1;" },
        { "refId": "INFO", "format": "time_series", "rawSql": "SELECT time_bucket('$interval', ts) AS time, COUNT(*) AS info FROM anomalies WHERE severity = 'info' GROUP BY 1 ORDER BY 1;" }
      ],
      "fieldConfig": {
        "defaults": { "custom": { "drawStyle": "bars", "fillOpacity": 80, "stacking": { "mode": "normal", "group": "A" }, "gradientMode": "hue" } },
        "overrides": [
          { "matcher": { "id": "byName", "options": "critical" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FF4136", "mode": "fixed" } }, { "id": "displayName", "value": "ðŸ”´ Critical" }] },
          { "matcher": { "id": "byName", "options": "warning" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FF851B", "mode": "fixed" } }, { "id": "displayName", "value": "ðŸŸ  Warning" }] },
          { "matcher": { "id": "byName", "options": "info" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FFDC00", "mode": "fixed" } }, { "id": "displayName", "value": "ðŸŸ¡ Info" }] }
        ]
      },
      "options": { "legend": { "showLegend": true, "displayMode": "table", "placement": "right", "calcs": ["sum", "mean", "max"] }, "tooltip": { "mode": "multi" } }
    },
    {
      "id": 11,
      "type": "timeseries",
      "title": "ðŸ“Š Anomaly Score Distribution",
      "description": "Average anomaly score over time - higher = more severe anomalies",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 5 },
      "targets": [
        {
          "refId": "A",
          "format": "time_series",
          "rawSql": "SELECT time_bucket('$interval', ts) AS time, AVG(anomaly_score) AS avg_score, MAX(anomaly_score) AS max_score, MIN(anomaly_score) AS min_score FROM anomalies GROUP BY 1 ORDER BY 1;"
        }
      ],
      "fieldConfig": { "defaults": { "unit": "none", "decimals": 3, "min": 0, "max": 1, "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "lineInterpolation": "smooth", "lineWidth": 2, "fillOpacity": 20, "gradientMode": "opacity" } } },
      "options": { "legend": { "showLegend": true, "displayMode": "list", "placement": "bottom" }, "tooltip": { "mode": "multi" } }
    },
    {
      "id": 12,
      "type": "timeseries",
      "title": "â° Hourly Pattern (Last 7 Days)",
      "description": "When do anomalies typically occur?",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 7, "w": 12, "x": 0, "y": 13 },
      "targets": [
        {
          "refId": "A",
          "format": "time_series",
          "rawSql": "SELECT time_bucket('1 hour', ts) AS time, COUNT(*) AS \"Anomalies\" FROM anomalies WHERE ts > now() - interval '7 days' GROUP BY 1 ORDER BY 1;"
        }
      ],
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "drawStyle": "line", "lineInterpolation": "smooth", "lineWidth": 2, "fillOpacity": 25, "gradientMode": "opacity", "showPoints": "auto", "pointSize": 4 } }, "overrides": [{ "matcher": { "id": "byName", "options": "Anomalies" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FF6B6B", "mode": "fixed" } }] }] },
      "options": { "legend": { "showLegend": true, "displayMode": "table", "placement": "right", "calcs": ["sum", "mean", "max"] }, "tooltip": { "mode": "single" } }
    },
    {
      "id": 13,
      "type": "barchart",
      "title": "ðŸ“… Daily Breakdown (Last 30 Days)",
      "description": "Anomalies per day",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 7, "w": 12, "x": 12, "y": 13 },
      "targets": [
        {
          "refId": "A",
          "format": "table",
          "rawSql": "SELECT DATE(ts) AS day, SUM(CASE WHEN severity = 'critical' THEN 1 ELSE 0 END) AS \"HIGH\", SUM(CASE WHEN severity = 'warning' THEN 1 ELSE 0 END) AS \"MEDIUM\", SUM(CASE WHEN severity = 'info' THEN 1 ELSE 0 END) AS \"LOW\" FROM anomalies WHERE ts > now() - interval '30 days' GROUP BY DATE(ts) ORDER BY day DESC LIMIT 30;"
        }
      ],
      "fieldConfig": {
        "defaults": { "color": { "mode": "palette-classic" }, "custom": { "fillOpacity": 80, "gradientMode": "hue", "stacking": { "mode": "normal" } } },
        "overrides": [
          { "matcher": { "id": "byName", "options": "CRITICAL" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FF4136", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "WARNING" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FF851B", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "INFO" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FFDC00", "mode": "fixed" } }] }
        ]
      },
      "options": { "orientation": "vertical", "barWidth": 0.8, "groupWidth": 0.7, "legend": { "showLegend": true, "displayMode": "list", "placement": "right" }, "tooltip": { "mode": "multi" }, "xField": "day" }
    },
    {
      "id": 102,
      "type": "row",
      "title": "ðŸ“± Anomalies by Device",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 20 },
      "collapsed": false
    },
    {
      "id": 20,
      "type": "barchart",
      "title": "ðŸ† Top Anomalous Devices",
      "description": "Devices with most anomalies detected",
      "datasource": { "type": "postgres", "uid": "FLEAD-TimescaleDB" },
      "gridPos": { "h": 12, "w": 12, "x": 0, "y": 21 },
      "targets": [
        {
          "refId": "A",
          "format": "table",
          "rawSql": "SELECT device_id AS device, COUNT(*) AS anomalies FROM anomalies GROUP BY device_id ORDER BY anomalies DESC LIMIT 15;",
          "datasource": { "type": "postgres", "uid": "FLEAD-TimescaleDB" }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "fillOpacity": 80, "gradientMode": "hue", "hideFrom": { "legend": false, "tooltip": false, "viz": false }, "lineWidth": 1, "scaleDistribution": { "type": "linear" }, "thresholdsStyle": { "mode": "off" } },
          "mappings": [],
          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "red", "value": 80 }] }
        },
        "overrides": []
      },
      "options": { "barRadius": 0.1, "barWidth": 0.8, "fullHighlight": false, "groupWidth": 0.7, "legend": { "calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": false }, "orientation": "horizontal", "showValue": "always", "stacking": "none", "tooltip": { "mode": "single", "sort": "none" }, "xTickLabelRotation": 0, "xTickLabelSpacing": 0 }
    },
    {
      "id": 21,
      "type": "barchart",
      "title": "ðŸ“ˆ Anomalies by Severity",
      "description": "Distribution of anomalies by severity level",
      "datasource": { "type": "postgres", "uid": "FLEAD-TimescaleDB" },
      "gridPos": { "h": 6, "w": 12, "x": 12, "y": 21 },
      "targets": [
        {
          "refId": "A",
          "format": "table",
          "rawSql": "SELECT severity, COUNT(*) AS count FROM anomalies GROUP BY severity ORDER BY count DESC;",
          "datasource": { "type": "postgres", "uid": "FLEAD-TimescaleDB" }
        }
      ],
      "fieldConfig": {
        "defaults": { "color": { "mode": "palette-classic" }, "custom": { "fillOpacity": 80, "gradientMode": "hue" } },
        "overrides": [
          { "matcher": { "id": "byName", "options": "critical" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FF4136", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "warning" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FFDC00", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "info" }, "properties": [{ "id": "color", "value": { "fixedColor": "#2ECC40", "mode": "fixed" } }] }
        ]
      },
      "options": { "barRadius": 0.2, "barWidth": 0.6, "orientation": "horizontal", "showValue": "always", "legend": { "showLegend": false }, "tooltip": { "mode": "single" } }
    },
    {
      "id": 22,
      "type": "stat",
      "title": "Overall Stats",
      "datasource": {
        "type": "postgres",
        "uid": "FLEAD-TimescaleDB"
      },
      "gridPos": { "h": 6, "w": 12, "x": 12, "y": 27 },
      "targets": [
        {
          "refId": "A",
          "format": "table",
          "rawSql": "SELECT COUNT(*) AS total_anomalies, COUNT(DISTINCT device_id) AS devices, ROUND(AVG(anomaly_score)::numeric, 3) AS avg_score FROM anomalies;",
          "datasource": {
            "type": "postgres",
            "uid": "FLEAD-TimescaleDB"
          }
        }
      ],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#4ECDC4", "value": null }] } } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"], "values": true }, "orientation": "horizontal", "textMode": "value_and_name", "colorMode": "background", "graphMode": "none" }
    },
    {
      "id": 103,
      "type": "row",
      "title": "ðŸ”¥ Heatmaps & Patterns",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 33 },
      "collapsed": false
    },
    {
      "id": 30,
      "type": "heatmap",
      "title": "ðŸŒ¡ï¸ Device Ã— Time Anomaly Heatmap",
      "description": "Which devices have anomalies and when",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 10, "w": 24, "x": 0, "y": 34 },
      "targets": [
        { "refId": "A", "format": "table", "rawSql": "SELECT time_bucket('5 minutes', ts) AS time, device_id, COUNT(*) AS value FROM anomalies GROUP BY 1, device_id ORDER BY 1, device_id LIMIT 5000;" }
      ],
      "fieldConfig": { "defaults": {} },
      "options": { "calculate": false, "cellGap": 1, "color": { "mode": "scheme", "scheme": "RdYlGn", "steps": 64, "reverse": true }, "yAxis": { "reverse": false }, "tooltip": { "show": true }, "legend": { "show": true } }
    },
    {
      "id": 31,
      "type": "barchart",
      "title": "ðŸ“Š Anomalies by Hour of Day",
      "description": "Pattern: when do anomalies occur most?",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 44 },
      "targets": [
        { "refId": "A", "format": "table", "rawSql": "SELECT EXTRACT(HOUR FROM ts)::int AS hour, SUM(CASE WHEN severity = 'critical' THEN 1 ELSE 0 END) AS \"HIGH\", SUM(CASE WHEN severity = 'warning' THEN 1 ELSE 0 END) AS \"MEDIUM\", SUM(CASE WHEN severity = 'info' THEN 1 ELSE 0 END) AS \"LOW\" FROM anomalies GROUP BY 1 ORDER BY 1;" }
      ],
      "fieldConfig": {
        "defaults": { "custom": { "fillOpacity": 80, "gradientMode": "hue", "stacking": { "mode": "normal" } } },
        "overrides": [
          { "matcher": { "id": "byName", "options": "CRITICAL" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FF4136", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "WARNING" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FF851B", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "INFO" }, "properties": [{ "id": "color", "value": { "fixedColor": "#FFDC00", "mode": "fixed" } }] }
        ]
      },
      "options": { "orientation": "vertical", "barWidth": 0.8, "legend": { "showLegend": true, "displayMode": "list", "placement": "right" }, "tooltip": { "mode": "multi" }, "xField": "hour" }
    },
    {
      "id": 32,
      "type": "piechart",
      "title": "ðŸ¥§ Device Share of Anomalies",
      "description": "Which devices contribute most to anomalies",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 8, "w": 6, "x": 12, "y": 44 },
      "targets": [{ "refId": "A", "format": "table", "rawSql": "SELECT device_id, COUNT(*) AS count FROM anomalies GROUP BY device_id ORDER BY count DESC LIMIT 10;" }],
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" } } },
      "options": { "reduceOptions": { "calcs": ["sum"], "values": true }, "pieType": "donut", "legend": { "showLegend": true, "displayMode": "table", "placement": "right", "values": ["percent"] } }
    },
    {
      "id": 33,
      "type": "bargauge",
      "title": "âš¡ Recent Hot Spots (Last Hour)",
      "datasource": "FLEAD-TimescaleDB",
      "gridPos": { "h": 8, "w": 6, "x": 18, "y": 44 },
      "targets": [{ "refId": "A", "format": "table", "rawSql": "SELECT device_id, COUNT(*) AS count FROM anomalies WHERE ts > now() - interval '1 hour' GROUP BY device_id ORDER BY count DESC LIMIT 10;" }],
      "fieldConfig": { "defaults": { "thresholds": { "mode": "absolute", "steps": [{ "color": "#2ECC40", "value": null }, { "color": "#FFDC00", "value": 2 }, { "color": "#FF851B", "value": 5 }, { "color": "#FF4136", "value": 10 }] }, "min": 0 } },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"], "values": true }, "orientation": "horizontal", "displayMode": "lcd", "showUnfilled": true }
    },
    {
      "id": 104,
      "type": "row",
      "title": "ðŸ“‹ Anomaly Stream",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 52 },
      "collapsed": false
    },
    {
      "id": 40,
      "type": "table",
      "title": "ðŸ”” Live Anomaly Feed",
      "datasource": {
        "type": "postgres",
        "uid": "FLEAD-TimescaleDB"
      },
      "gridPos": { "h": 12, "w": 24, "x": 0, "y": 53 },
      "targets": [
        {
          "refId": "A",
          "format": "table",
          "rawSql": "SELECT ts, device_id, ROUND(anomaly_score::numeric, 3) AS score, severity FROM anomalies ORDER BY ts DESC LIMIT 50;",
          "datasource": {
            "type": "postgres",
            "uid": "FLEAD-TimescaleDB"
          }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "custom": { "align": "auto", "filterable": true }
        },
        "overrides": [
          { "matcher": { "id": "byName", "options": "ts" }, "properties": [{ "id": "unit", "value": "dateTimeAsLocal" }, { "id": "displayName", "value": "Time" }] },
          { "matcher": { "id": "byName", "options": "device_id" }, "properties": [{ "id": "displayName", "value": "Device" }] },
          { "matcher": { "id": "byName", "options": "score" }, "properties": [{ "id": "displayName", "value": "RCF Score" }] }
        ]
      },
      "options": { "showHeader": true, "cellHeight": "sm" }
    }
  ],
  "refresh": "10s",
  "schemaVersion": 39,
  "style": "dark",
  "tags": ["flead", "iot", "anomaly", "tracking"],
  "templating": {
    "list": [
      {
        "allValue": "ALL",
        "current": { "selected": true, "text": "All", "value": "$__all" },
        "datasource": "FLEAD-TimescaleDB",
        "definition": "SELECT DISTINCT device_id FROM anomalies ORDER BY device_id LIMIT 200",
        "hide": 0,
        "includeAll": true,
        "label": "Device",
        "multi": false,
        "name": "device",
        "query": "SELECT DISTINCT device_id FROM anomalies ORDER BY device_id LIMIT 200;",
        "refresh": 2,
        "sort": 1,
        "type": "query"
      },
      {
        "current": { "selected": false, "text": "5 minutes", "value": "5 minutes" },
        "hide": 0,
        "includeAll": false,
        "label": "Interval",
        "multi": false,
        "name": "interval",
        "options": [
          { "selected": false, "text": "1 minute", "value": "1 minute" },
          { "selected": true, "text": "5 minutes", "value": "5 minutes" },
          { "selected": false, "text": "15 minutes", "value": "15 minutes" },
          { "selected": false, "text": "30 minutes", "value": "30 minutes" },
          { "selected": false, "text": "1 hour", "value": "1 hour" },
          { "selected": false, "text": "6 hours", "value": "6 hours" },
          { "selected": false, "text": "1 day", "value": "1 day" }
        ],
        "query": "1 minute,5 minutes,15 minutes,30 minutes,1 hour,6 hours,1 day",
        "type": "custom"
      }
    ]
  },
  "time": { "from": "2025-11-29T08:00:00.000Z", "to": "2025-11-29T11:00:00.000Z" },
  "timepicker": {
    "refresh_intervals": ["5s", "10s", "30s", "1m", "5m"],
    "time_options": ["5m", "15m", "1h", "6h", "12h", "24h", "2d", "7d", "30d"]
  },
  "timezone": "browser",
  "title": "FLEAD - Anomaly Tracker",
  "uid": "flead-anomaly-tracker",
  "version": 1,
  "weekStart": ""
}

